import{q as g,r as i,c as n,a as o,k as c,s as a,t as r,m as p,o as l}from"#entry";const b={class:"min-h-screen bg-gray-50 py-12 px-4"},h={class:"max-w-md mx-auto bg-white rounded-lg shadow p-6"},_={class:"space-y-4"},f=["disabled"],x={class:"font-medium"},y={class:"text-sm mt-1"},v={key:0,class:"text-xs mt-2 overflow-auto"},w=["disabled"],E=g({__name:"test-admin-creation",setup(C){const t=i(!1),s=i(null),u=async()=>{t.value=!0,s.value=null;try{const e=await $fetch("/api/auth/create-admin",{method:"POST"});s.value={success:!0,message:e.message,details:e}}catch(e){console.error("Error:",e),s.value={success:!1,message:e.data?.statusMessage||e.message||"Error desconocido",details:e}}finally{t.value=!1}},m=async()=>{t.value=!0,s.value=null;try{const e=await $fetch("/api/auth/admin-login",{method:"POST",body:{email:"admin@be-mindpower.net",password:"BMP@Admin2024!"}});s.value={success:!0,message:"Login exitoso: "+e.message,details:e}}catch(e){console.error("Error:",e),s.value={success:!1,message:e.data?.statusMessage||e.message||"Error desconocido",details:e}}finally{t.value=!1}};return(e,d)=>(l(),n("div",b,[o("div",h,[d[0]||(d[0]=o("h1",{class:"text-xl font-bold mb-4"},"Test Creación de Admin",-1)),o("div",_,[o("button",{onClick:u,disabled:a(t),class:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50"},r(a(t)?"Creando...":"Crear Usuario Admin"),9,f),a(s)?(l(),n("div",{key:0,class:p(["p-4 rounded",a(s).success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"])},[o("h3",x,r(a(s).success?"Éxito":"Error"),1),o("p",y,r(a(s).message),1),a(s).details?(l(),n("pre",v,r(JSON.stringify(a(s).details,null,2)),1)):c("",!0)],2)):c("",!0),o("button",{onClick:m,disabled:a(t),class:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50"},r(a(t)?"Probando...":"Probar Login"),9,w)])])]))}});export{E as default};
