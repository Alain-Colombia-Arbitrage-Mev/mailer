import{_ as p}from"./B8aq_QmG.js";import{q as v,r as u,B as b,c as a,a as t,i as h,b as r,s as i,k as g,d,t as y,w as m,n as w,o as l}from"#entry";import{r as _}from"./BreoAuwB.js";const k={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},q={class:"max-w-2xl w-full space-y-8"},S={class:"text-center"},C={class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-orange-100"},E={class:"text-center space-y-4"},B=["disabled"],j={key:0,class:"flex items-center"},V={key:1},N={key:0,class:"text-sm"},A={key:0,class:"text-green-600"},P={key:1,class:"text-red-600"},U={class:"flex justify-center space-x-4"},O=v({__name:"manual-confirmation",setup(L){const{signInWithPassword:x}=useSupabaseCorrect(),n=u(!1),s=u(null),f=async()=>{n.value=!0,s.value=null;try{const o=await x("info@be-mindpower.net","Bemind.2025+++");o.success?(s.value={success:!0},setTimeout(()=>{w("/dashboard")},2e3)):s.value={success:!1,error:o.error}}catch(o){s.value={success:!1,error:o.message}}finally{n.value=!1}};return b({title:"Confirmación Manual - Mailer Be-Mindpower",description:"Instrucciones para confirmar manualmente el super usuario en Supabase"}),(o,e)=>{const c=p;return l(),a("div",k,[t("div",q,[t("div",S,[t("div",C,[r(i(_),{class:"h-6 w-6 text-orange-600"})]),e[0]||(e[0]=t("h2",{class:"mt-6 text-3xl font-extrabold text-gray-900"}," Confirmación Manual Requerida ",-1)),e[1]||(e[1]=t("p",{class:"mt-2 text-sm text-gray-600"}," Debido al rate limit de emails, necesitas confirmar el usuario manualmente ",-1))]),e[5]||(e[5]=h('<div class="bg-white shadow rounded-lg p-6"><h3 class="text-lg font-medium text-gray-900 mb-4"> 📋 Instrucciones paso a paso </h3><div class="space-y-6"><div class="flex"><div class="flex-shrink-0"><div class="flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white text-sm font-medium"> 1 </div></div><div class="ml-4"><h4 class="text-sm font-medium text-gray-900">Accede al Panel de Supabase</h4><p class="mt-1 text-sm text-gray-600"> Ve a <a href="https://supabase.com/dashboard" target="_blank" class="text-blue-600 hover:text-blue-500">supabase.com/dashboard</a> e inicia sesión con tu cuenta. </p></div></div><div class="flex"><div class="flex-shrink-0"><div class="flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white text-sm font-medium"> 2 </div></div><div class="ml-4"><h4 class="text-sm font-medium text-gray-900">Selecciona tu Proyecto</h4><p class="mt-1 text-sm text-gray-600"> Busca y selecciona el proyecto que corresponde a esta aplicación. </p></div></div><div class="flex"><div class="flex-shrink-0"><div class="flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white text-sm font-medium"> 3 </div></div><div class="ml-4"><h4 class="text-sm font-medium text-gray-900">Ve a Authentication</h4><p class="mt-1 text-sm text-gray-600"> En el menú lateral, haz clic en <strong>&quot;Authentication&quot;</strong> → <strong>&quot;Users&quot;</strong></p></div></div><div class="flex"><div class="flex-shrink-0"><div class="flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white text-sm font-medium"> 4 </div></div><div class="ml-4"><h4 class="text-sm font-medium text-gray-900">Busca el Usuario</h4><p class="mt-1 text-sm text-gray-600"> Busca el usuario con email: <code class="bg-gray-100 px-2 py-1 rounded text-sm">info@be-mindpower.net</code></p></div></div><div class="flex"><div class="flex-shrink-0"><div class="flex items-center justify-center h-8 w-8 rounded-full bg-green-500 text-white text-sm font-medium"> 5 </div></div><div class="ml-4"><h4 class="text-sm font-medium text-gray-900">Confirma el Email</h4><p class="mt-1 text-sm text-gray-600"> Haz clic en el usuario y busca la opción para <strong>&quot;Confirm email&quot;</strong> o cambiar el estado a confirmado. </p></div></div></div></div><div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6"><h3 class="text-lg font-medium text-yellow-800 mb-4"> 🔧 Soluciones Alternativas </h3><div class="space-y-4 text-sm text-yellow-700"><div><h4 class="font-medium">Opción 1: Deshabilitar confirmación de email</h4><p>En Supabase Dashboard → Authentication → Settings → &quot;Enable email confirmations&quot; (desactivar)</p></div><div><h4 class="font-medium">Opción 2: Usar un email real</h4><p>Cambia el email del super usuario a uno que puedas acceder para recibir el email de confirmación</p></div><div><h4 class="font-medium">Opción 3: Esperar el rate limit</h4><p>Espera 5-10 minutos y vuelve a intentar el registro</p></div></div></div><div class="bg-blue-50 border border-blue-200 rounded-lg p-6"><h3 class="text-lg font-medium text-blue-800 mb-4"> 📊 Estado Actual </h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"><div><h4 class="font-medium text-blue-800">Super Usuario</h4><p class="text-blue-700">Email: info@be-mindpower.net</p><p class="text-blue-700">Contraseña: Bemind.2025+++</p></div><div><h4 class="font-medium text-blue-800">Estado</h4><p class="text-blue-700">✅ Usuario creado</p><p class="text-blue-700">⏳ Pendiente confirmación</p></div></div></div>',3)),t("div",E,[t("button",{onClick:f,disabled:i(n),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[i(n)?(l(),a("span",j,[...e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),d(" Probando login... ",-1)])])):(l(),a("span",V," 🧪 Probar Login del Super Usuario "))],8,B),i(s)?(l(),a("div",N,[i(s).success?(l(),a("div",A," ✅ ¡Login exitoso! El super usuario está listo. ")):(l(),a("div",P," ❌ "+y(i(s).error),1))])):g("",!0)]),t("div",U,[r(c,{to:"/auth/login",class:"font-medium text-blue-600 hover:text-blue-500"},{default:m(()=>[...e[3]||(e[3]=[d(" ← Volver al Login ",-1)])]),_:1}),r(c,{to:"/auth/register-admin",class:"font-medium text-purple-600 hover:text-purple-500"},{default:m(()=>[...e[4]||(e[4]=[d(" Intentar Registro de Nuevo ",-1)])]),_:1})])])])}}});export{O as default};
